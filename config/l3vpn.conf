Device 1:
```
sudo config vrf add Vrf1
sudo config interface vrf bind Ethernet16 Vrf1
sudo config interface ip add Ethernet16 10.10.111.1/24
sudo config interface ip add Ethernet16 fc00:0:111:1::1/64
sudo config interface ip add Ethernet0 fc00:0:ffff::/127

# sudo config route add prefix fc00:0:2::/48 nexthop 2001:17::2
 
# FRR Configuration:
 
hostname sonic01
no service integrated-vtysh-config
!
password zebra
enable password zebra
!
ipv6 route fc00:0:1::/48 Loopback0
!
router bgp 65001
 bgp router-id 10.0.0.1
 bgp log-neighbor-changes
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 bgp bestpath as-path multipath-relax
 neighbor fc00:0:ffff::1 remote-as 65003
 !
 segment-routing srv6
  locator LOC
 exit
 !
 address-family ipv4 vpn
  neighbor fc00:0:ffff::1 activate
 exit-address-family
 !
 address-family ipv6 unicast
  network fc00:0:1::/48
  network fc00:0:1::1/128
  neighbor fc00:0:ffff::1 activate
 exit-address-family
 !
 address-family ipv6 vpn
  neighbor fc00:0:ffff::1 activate
  neighbor fc00:0:ffff::1 route-map BGP-IPV6 in
 exit-address-family
exit
!
router bgp 65001 vrf Vrf1
no bgp ebgp-requires-policy
!
sid vpn per-vrf export 111
address-family ipv6 unicast
  redistribute connected
  rd vpn export 10.0.0.1:1
  rt vpn import 10.0.0.3:1
  rt vpn export 10.0.0.1:1
  export vpn
  import vpn
exit-address-family
address-family ipv4 unicast
  redistribute connected
  rd vpn export 10.0.0.1:1
  rt vpn import 10.0.0.3:1
  rt vpn export 10.0.0.1:1
  export vpn
  import vpn
exit-address-family
exit
!
no ip prefix-list PL_LoopbackV4 seq 5 permit 10.1.0.1/32
!
no route-map RM_SET_SRC permit 10
!
no route-map RM_SET_SRC6 permit 10
!
route-map BGP-IPV6 permit 20
 set ipv6 next-hop prefer-global
exit
!
ip nht resolve-via-default
!
no ip protocol bgp route-map RM_SET_SRC
!
no ipv6 protocol bgp route-map RM_SET_SRC6
!
segment-routing
 srv6
  encapsulation
   source-address fc00:0:1::1
  locators
   locator MAIN
    behavior usid
    prefix fc00:0:1::/48 block-len 32 node-len 16
   exit
   !
  exit
  !
 exit
 !
 srv6
  explicit-sids
   sid fc00:0:1:: behavior uN
   exit
   !
  exit
  !
 exit
 !
exit
!
end
!
 
```
 
# Device 2:
```
sudo config vrf add Vrf1
sudo config interface vrf bind Ethernet24 Vrf1
sudo config interface ip add Ethernet24 10.10.113.1/24
sudo config interface ip add Ethernet24 fc00:0:113:1::1/64
sudo config interface ip add Ethernet0 fc00:0:ffff::1/127
 
# FRR Configuration:
 
ipv6 route fc00:0:3::/48 Loopback0
!
router bgp 65003
 bgp router-id 10.0.0.3
 bgp log-neighbor-changes
 no bgp ebgp-requires-policy
 no bgp default ipv4-unicast
 bgp bestpath as-path multipath-relax
 neighbor fc00:0:ffff:: remote-as 65001
 !
 segment-routing srv6
  locator MAIN
 exit
 !
 address-family ipv4 vpn
  neighbor fc00:0:ffff:: activate
 exit-address-family
 !
 address-family ipv6 unicast
  network fc00:0:3::/48
  network fc00:0:3::1/128
  neighbor fc00:0:ffff:: activate
 exit-address-family
 !
 address-family ipv6 vpn
  neighbor fc00:0:ffff:: activate
  neighbor fc00:0:ffff:: route-map BGP-IPV6 in
 exit-address-family
exit
!
router bgp 65003 vrf Vrf1
no bgp ebgp-requires-policy
!
sid vpn per-vrf export 113
address-family ipv6 unicast
  redistribute connected
  rd vpn export 10.0.0.3:1
  rt vpn import 10.0.0.1:1
  rt vpn export 10.0.0.3:1
  export vpn
  import vpn
exit-address-family
address-family ipv4 unicast
  redistribute connected
  rd vpn export 10.0.0.3:1
  rt vpn import 10.0.0.1:1
  rt vpn export 10.0.0.3:1
  export vpn
  import vpn
exit-address-family
exit
!
route-map RM_SET_SRC permit 10
 set src 10.0.0.1
exit
!
route-map RM_SET_SRC6 permit 10
 set src fc00:0:1::1
exit
!
route-map BGP-IPV6 permit 20
 set ipv6 next-hop prefer-global
exit
!
ip nht resolve-via-default
!
ip protocol bgp route-map RM_SET_SRC
!
ipv6 protocol bgp route-map RM_SET_SRC6
!
segment-routing
 srv6
  encapsulation
   source-address fc00:0:3::1
  locators
   locator MAIN
    behavior usid
    prefix fc00:0:3::/48 block-len 32 node-len 16
   exit
   !
  exit
  !
 exit
 !
 srv6
  explicit-sids
   sid fc00:0:3:: behavior uN
   exit
   !
  exit
  !
 exit
 !
exit
!
end
!